diff -urN work/smartmontools-6.6/smartmontools-6.6/os_linux.cpp work/smartmontools-6.6/smartmontools-6.6/os_linux.cpp
--- work/smartmontools-6.6/smartmontools-6.6/os_linux.cpp	2017-11-03 21:54:56.000000000 +0100
+++ work/smartmontools-6.6/smartmontools-6.6/os_linux.cpp	2018-04-19 22:48:31.600116512 +0200
@@ -3176,7 +3176,7 @@
 {
   char path[128];
   snprintf(path, sizeof(path), "/sys/block/%s/device", name);
-  char * syshostpath = canonicalize_file_name(path);
+  char * syshostpath = realpath(path, NULL);
   if (!syshostpath)
     return false;
 
